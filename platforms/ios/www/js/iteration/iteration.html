<ion-view id="pg--iteration" title="{{ ::collaboration.name }} - ">
	<ion-nav-buttons side="primary">
	 <button ng-click="iteration.goBack()" nav-direction="back" class="ion-chevron-left">
	 </button>
	</ion-nav-buttons>
	<div iteration-container id="iterationBg" class="{{ iteration.showAddIteration() ? 'add-iteration' : 'iteraton' }}">
		<img ng-if="iterationsLoaded" class="iteration-image" iteration-image ng-src="{{ imageURI }}" />
		<canvas ng-if="imageSize.height" height="imageSize.height" width="imageSize.width" iteration-canvas></canvas>
		<drawing ng-if="imageSize.height" ng-repeat="thread in threads | threadHasDrawing" id="{{ ::thread.$id }}">
		</drawing>
		<navigate-iterations-button-mobile ng-if="previous" direction="previous"></navigate-iterations-button-mobile>
		<navigate-iterations-button-mobile ng-if="next" direction="next"></navigate-iterations-button-mobile>
		<button check-button class="check" ng-if="iteration.showCheck()" ng-click="iteration.done()"></button>
		<div ng-if="resolve && !iteration.hasThreads() && !instructionsRead" class="instructions">
				<h2>instrucciones <span><button class="ion-close" ng-click="iteration.readInstructions()"></button> </span></h2>
				<p>
					Toca sobre la imagen para agregar un comentario, puedes agregar multiples comentarios a tu imagen tocando los diferentes puntos donde quieras agregarlos.
				</p>
		</div>
	</div>
	<div ng-if="iteration.showAddIteration()" iteration-footer class="bar bar-footer">
		<button new-iteration-button class="addIteration" ng-click="iteration.addIteration()"></button>
	</div>
</ion-view> 